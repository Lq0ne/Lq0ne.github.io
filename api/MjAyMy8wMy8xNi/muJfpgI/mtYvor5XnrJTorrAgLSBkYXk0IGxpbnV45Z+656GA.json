{"title":"渗透测试笔记 - day4 linux基础","date":"2023-03-16T17:42:18.084Z","date_formatted":{"ll":"Mar 16, 2023","L":"03/16/2023","MM-DD":"03-16"},"link":"2023/03/16/渗透测试笔记 - day4 linux基础","updated":"2023-03-17T04:57:44.060Z","content":"<h2 id=\"linux目录结构\">linux目录结构<a title=\"#linux目录结构\" href=\"#linux目录结构\"></a></h2>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150040.png\" alt=\"image-20220120085442731\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150655.png\" alt=\"image-20220120085528453\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150273.png\" alt=\"image-20220120085555794\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150051.png\" alt=\"image-20220120085628167\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"linux终端安全\">linux终端安全<a title=\"#linux终端安全\" href=\"#linux终端安全\"></a></h2>\n<p>linux为多用户、多任务系统，可多用户同时在线并且互不相冲突。windows只能让一个用户使用，如果第二个用户远程登陆系统时，第一个用户就会断开。windows与linux相同的是，不同的角色由不同的权限。</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150183.png\" alt=\"image-20220120090626218\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"linux用户管理\">linux用户管理<a title=\"#linux用户管理\" href=\"#linux用户管理\"></a></h2>\n<h3 id=\"实验一：\">实验一：<a title=\"#实验一：\" href=\"#实验一：\"></a></h3>\n<p>​\t创建用户，并添加进suduer文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ping www.baidu.com <span class=\"comment\"># test用户无法使用sudo</span></span><br><span class=\"line\">su <span class=\"comment\"># 切换到root用户</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150489.png\" alt=\"image-20220120223918728\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cp</span> /etc/sudoers /etc/sudoers.bak <span class=\"comment\"># 备份配置文件</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150878.png\" alt=\"image-20220120224457787\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/sudoers <span class=\"comment\"># 修改配置文件，添加用户test</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150698.png\" alt=\"image-20220120224816938\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> /etc/sudoers <span class=\"comment\"># 更新配置文件</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150909.png\" alt=\"image-20220120224932126\" loading=\"lazy\" class=\"φbp\"></p>\n<p>验证修改结果</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112150585.png\" alt=\"image-20220120225113619\" loading=\"lazy\" class=\"φbp\"></p>\n<p>实验完成！！！</p>\n<h2 id=\"文件特殊权限\">文件特殊权限<a title=\"#文件特殊权限\" href=\"#文件特殊权限\"></a></h2>\n<h3 id=\"suid：\">suid：<a title=\"#suid：\" href=\"#suid：\"></a></h3>\n<p>set uid，当文件具有suid权限，任何账号都将对其具有属主权限</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> u+s 123.txt <span class=\"comment\"># 为文件赋予suid权限</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151082.png\" alt=\"image-20220120094619552\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"sgid:\">sgid:<a title=\"#sgid:\" href=\"#sgid:\"></a></h3>\n<p>set gid，当文件具有sgid权限，任何组都将对其具有属组权限</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> g+s test.txt <span class=\"comment\"># 为文件赋予sgid权限</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151406.png\" alt=\"image-20220120095043609\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"sbit：\">sbit：<a title=\"#sbit：\" href=\"#sbit：\"></a></h3>\n<p>为文件加赋予特殊权限</p>\n<h2 id=\"lnux网络基础\">lnux网络基础<a title=\"#lnux网络基础\" href=\"#lnux网络基础\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip add <span class=\"comment\"># 检查电脑网络连接信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151741.png\" alt=\"image-20220120105321042\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route <span class=\"comment\"># 查看网络路由信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151387.png\" alt=\"image-20220120105414956\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"实验二：\">实验二：<a title=\"#实验二：\" href=\"#实验二：\"></a></h3>\n<p>为centos设置静态ip。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cp</span> /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/sysconfig/network-scripts/ifcfg-ens33.bak <span class=\"comment\"># 备份网络文件</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class=\"comment\"># 查看网络配置文件</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151661.png\" alt=\"image-20220120111643482\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/sysconfig/network-scripts/ifcfg-ens33 <span class=\"comment\"># 修改网络类型为静态配置，设置静态IP地址，设置子网掩码，设置网关和DNS</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151048.png\" alt=\"image-20220120112040624\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class=\"comment\"># 更新文件信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151380.png\" alt=\"image-20220120112626441\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service network restart <span class=\"comment\"># 重启网络服务</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151619.png\" alt=\"image-20220120111954962\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig <span class=\"comment\"># 检查网络信息</span></span><br><span class=\"line\">ip add <span class=\"comment\"># 同上</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151778.png\" alt=\"image-20220120112058909\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ping www.baidu.com <span class=\"comment\"># 检查网络连通性</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151053.png\" alt=\"image-20220120112114129\" loading=\"lazy\" class=\"φbp\"></p>\n<p>实验完成。</p>\n<h2 id=\"liniux源\">liniux源<a title=\"#liniux源\" href=\"#liniux源\"></a></h2>\n<p>Yum(全称为 Yellow dog Updater, Modified)是一个在Fedora和RedHat以及CentOS中的Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。yum源就是一个软件集合地，你只需要搜索并安装你想要的软件，它会帮你解决大部分软件的依赖问题。</p>\n<h3 id=\"实验三：\">实验三：<a title=\"#实验三：\" href=\"#实验三：\"></a></h3>\n<p>​\t配置外网yum源</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /etc/yum.repos.d/ <span class=\"comment\"># 进入yum源配置目录</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151293.png\" alt=\"image-20220120140321249\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cp</span> ./CentOS-Base.repo ./CentOS-Base.repo.bak <span class=\"comment\"># 备份系统自带源</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151700.png\" alt=\"image-20220120140516816\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo </span><br><span class=\"line\"><span class=\"comment\"># 或者</span></span><br><span class=\"line\">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo <span class=\"comment\"># 获取阿里云源镜像站</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151905.png\" alt=\"image-20220120141033401\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum clean all <span class=\"comment\"># 清空缓存</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151177.png\" alt=\"image-20220120141129116\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum repolist <span class=\"comment\"># 查看yum源的列表并生成相应的元数据缓存到本地</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151506.png\" alt=\"image-20220120141223500\" loading=\"lazy\" class=\"φbp\"></p>\n<p>实验完成！</p>\n<h2 id=\"lamp:\">LAMP:<a title=\"#lamp:\" href=\"#lamp:\"></a></h2>\n<p><strong>LAMP</strong>是指一组通常一起使用来运行动态网站或者服务器的<a href=\"https://baike.so.com/doc/5925549-6138471.html\" target=\"_blank\">自由软件</a>名称首字母缩写</p>\n<ul>\n<li>\n<p><strong>L</strong>inux，操作系统</p>\n</li>\n<li>\n<p><strong>A</strong>pache，网页服务器</p>\n</li>\n<li>\n<p><strong>M</strong>ariaDB或<strong>M</strong>ySQL，数据库管理系统或者数据库服务器</p>\n</li>\n<li>\n<p><strong>P</strong>HP、<strong>P</strong>erl或<strong>P</strong>ython，脚本语言</p>\n<p>1、<a href=\"https://www.leixue.com/tags/apache\" target=\"_blank\">Apache</a> 是使用最广泛的 Web <a href=\"https://www.leixue.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8\" target=\"_blank\">服务器</a>软件。Apache是由Apache Software Foundation 开发和维护的，它是一个免费提供的开源软件。它占全球所有网络服务器的 67%。它快速，可靠，安全。它可以通过使用扩展和模块进行高度定制，以满足许多不同环境的需求。大多数 WordPress 托管服务提供商使用 Apache 作为其 Web 服务器软件。但是，WordPress 也可以在其他 Web 服务器软件上运行。</p>\n<p>2、MySQL是一个关系型数据库管理系统，由瑞典MySQL AB公司开发，目前属于Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统(RDBMS)之一。</p>\n<p>3、PHP，一个嵌套的缩写名称，是英文超级文本预处理语言（PHP:Hypertext Preprocessor）的缩写。PHP是一种HTML内嵌式的语言，PHP与微软的ASP颇有几分相似，都是一种在<a href=\"https://baike.so.com/doc/4487696-4696885.html\" target=\"_blank\">服务器</a>端执行的嵌入HTML文档的<a href=\"https://baike.so.com/doc/2874347-3033293.html\" target=\"_blank\">脚本语言</a>，语言的风格有类似于C语言，现在被很多的网站编程人员广泛的运用。</p>\n</li>\n</ul>\n<h3 id=\"实验四：\">实验四：<a title=\"#实验四：\" href=\"#实验四：\"></a></h3>\n<p>安装LAMP</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install httpd <span class=\"comment\"># 安装apache</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112221364.png\" alt=\"image-20220120142545915\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig httpd on <span class=\"comment\"># 检查apache状态</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151342.png\" alt=\"image-20220120142626434\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd start <span class=\"comment\"># 开启apache服务</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151649.png\" alt=\"image-20220120142658156\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install httpd-manual mod_ssl mod_perl mod_auth_mysql <span class=\"comment\"># 安装apache扩展和依赖</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151916.png\" alt=\"image-20220120142812359\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -ntlp <span class=\"comment\"># 查看端口开放信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151587.png\" alt=\"image-20220120142915525\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=80/tcp --permanent <span class=\"comment\"># 开启80端口</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151859.png\" alt=\"image-20220120143030630\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop firewalld <span class=\"comment\"># 关闭防火墙</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151268.png\" alt=\"image-20220120143107055\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl 127.0.0.1:80 <span class=\"comment\"># 查看本地80端口返回信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151510.png\" alt=\"image-20220120143312699\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig <span class=\"comment\"># 查看IP地址</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151230.png\" alt=\"image-20220120143407291\" loading=\"lazy\" class=\"φbp\"></p>\n<p>宿主机访问网页ip:80端口</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151731.png\" alt=\"image-20220120143514141\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y mariadb-server <span class=\"comment\"># 安装mysql</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151229.png\" alt=\"image-20220120144148784\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start mariadb.service <span class=\"comment\"># 设置开机自启</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151882.png\" alt=\"image-20220120144225082\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">enable</span> mariadb.service <span class=\"comment\"># 启动mysql数据库服务</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151134.png\" alt=\"image-20220120144249033\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql_secure_installation <span class=\"comment\"># 配置安全策略</span></span><br></pre></td></tr></table></figure>\n<p>全部回车</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151332.png\" alt=\"image-20220120144513857\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p <span class=\"comment\"># 启动mysql</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151992.png\" alt=\"image-20220120145634834\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=3306/tcp --permanent <span class=\"comment\"># 开启3306端口</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151352.png\" alt=\"image-20220120144719255\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -tulpn | grep -i mysql <span class=\"comment\"># 检查mysql端口占用信息</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151634.png\" alt=\"image-20220120144811895\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install php php-mysql <span class=\"comment\"># 安装php模块</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151259.png\" alt=\"image-20220120145304767\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd start <span class=\"comment\"># 启动apache</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151812.png\" alt=\"image-20220120145734980\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /var/www/html</span><br><span class=\"line\">vi index.html <span class=\"comment\"># 编辑LAMP主页</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151350.png\" alt=\"image-20220120145853950\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151763.png\" alt=\"image-20220120145939113\" loading=\"lazy\" class=\"φbp\"></p>\n<p>客户机浏览器登录80端口</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151027.png\" alt=\"image-20220120160326648\" loading=\"lazy\" class=\"φbp\"></p>\n<p>更改默认端口</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/httpd/conf/httpd.conf <span class=\"comment\">#　编辑配置文件</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112221922.png\" alt=\"image-20220120160023483\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">servic httpd restart <span class=\"comment\"># 重启服务</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151790.png\" alt=\"image-20220120160107060\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112151318.png\" alt=\"image-20220120160257481\" loading=\"lazy\" class=\"φbp\"></p>\n<p>访问成功，实验完成！</p>\n<h2 id=\"ssh：\">SSH：<a title=\"#ssh：\" href=\"#ssh：\"></a></h2>\n<h3 id=\"实验五：\">实验五：<a title=\"#实验五：\" href=\"#实验五：\"></a></h3>\n<p>ssh远程登录</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh root@ip <span class=\"comment\"># ssh以root用户连接ip</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152293.png\" alt=\"image-20220120162545296\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"docker\">docker<a title=\"#docker\" href=\"#docker\"></a></h2>\n<h3 id=\"实验六:\">实验六:<a title=\"#实验六:\" href=\"#实验六:\"></a></h3>\n<p>查看系统内核</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">uname</span> -r</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152131.png\" alt=\"image-20220120165031895\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum remove docker docker-common docker-selinux docker-engine <span class=\"comment\"># 检查旧版本与卸载</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152780.png\" alt=\"image-20220120165306601\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y yum-utils device-mapper-persistent-data lvm2 <span class=\"comment\"># 安装依赖</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152806.png\" alt=\"image-20220120165353853\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install docker <span class=\"comment\"># 安装docker本体</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152128.png\" alt=\"image-20220120165514572\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start docker <span class=\"comment\"># 设置开机自启</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152768.png\" alt=\"image-20220120165537654\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">enable</span> docker <span class=\"comment\"># 开启docker</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152033.png\" alt=\"image-20220120165601802\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp O:\\\\hvv\\\\文件名 username@ip:%HOME%/usernem <span class=\"comment\">#从windows使用scp协议上传文件</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152913.png\" alt=\"image-20220120171016491\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker load -i ./文件名 <span class=\"comment\"># 装载镜像</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152556.png\" alt=\"image-20220120171205793\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images <span class=\"comment\"># 查看docker镜像</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152846.png\" alt=\"image-20220120171440206\" loading=\"lazy\" class=\"φbp\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 81:80 [image <span class=\"built_in\">id</span>] <span class=\"comment\"># 启动镜像</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152270.png\" alt=\"image-20220120171735991\" loading=\"lazy\" class=\"φbp\"></p>\n<p>访问成功</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152890.png\" alt=\"image-20220120232740006\" loading=\"lazy\" class=\"φbp\"></p>\n<p>还是个web题，虽然俺不是web手，但至少看的懂代码，那就顺手做了（不能白搭环境）</p>\n<h3 id=\"实验七（bushi\">实验七（bushi<a title=\"#实验七（bushi\" href=\"#实验七（bushi\"></a></h3>\n<p>​\t问了问web队友，php在传参时会进行两次urldecode()，所以加密两次id就可以绕过第一个if了：</p>\n<p>​\ta = %61 = %2561</p>\n<p>​\tpayload = url + ?id=h%261ckerDOG</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112152447.png\" alt=\"image-20220120233151934\" loading=\"lazy\" class=\"φbp\"></p>\n<p>捕获原生flag一枚：</p>\n<p><img src=\"https://raw.githubusercontent.com/Lq0ne/my_pic/main/202303112213909.png\" alt=\"image-20220120233219609\" loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"渗透测试笔记 - day7、8、9 网络基础","link":"2023/03/16/渗透测试笔记 - day7、8、9 网络基础"},"next":{"title":"渗透测试笔记 - day3 linux基础","link":"2023/03/16/渗透测试笔记 - day3 linux基础"},"plink":"https://Lq0ne.github.io/2023/03/16/渗透测试笔记 - day4 linux基础/","toc":[{"id":"linux目录结构","title":"linux目录结构","index":"1"},{"id":"linux终端安全","title":"linux终端安全","index":"2"},{"id":"linux用户管理","title":"linux用户管理","index":"3","children":[{"id":"实验一：","title":"实验一：","index":"3.1"}]},{"id":"文件特殊权限","title":"文件特殊权限","index":"4","children":[{"id":"suid：","title":"suid：","index":"4.1"},{"id":"sgid:","title":"sgid:","index":"4.2"},{"id":"sbit：","title":"sbit：","index":"4.3"}]},{"id":"lnux网络基础","title":"lnux网络基础","index":"5","children":[{"id":"实验二：","title":"实验二：","index":"5.1"}]},{"id":"liniux源","title":"liniux源","index":"6","children":[{"id":"实验三：","title":"实验三：","index":"6.1"}]},{"id":"lamp:","title":"LAMP:","index":"7","children":[{"id":"实验四：","title":"实验四：","index":"7.1"}]},{"id":"ssh：","title":"SSH：","index":"8","children":[{"id":"实验五：","title":"实验五：","index":"8.1"}]},{"id":"docker","title":"docker","index":"9","children":[{"id":"实验六:","title":"实验六:","index":"9.1"},{"id":"实验七（bushi","title":"实验七（bushi","index":"9.2"}]}],"copyright":{"license":"个人原创 - 自由转载 - 保持署名 - 禁止商用","published":"March 16, 2023","author":"Lq0ne","link":"<a href=\"https://Lq0ne.github.io/2023/03/16/渗透测试笔记 - day4 linux基础/\" title=\"渗透测试笔记 - day4 linux基础\">https://Lq0ne.github.io/2023/03/16/渗透测试笔记 - day4 linux基础/</a>"},"reading_time":"2274 words in 15 min"}